<link href="~/Content/bootstrap-editable-1.css" rel="stylesheet">
<link href="~/Content/rating/rating.css" media="all" rel="stylesheet" type="text/css" />
@model FinalTest.Domain.Contracts.ViewModels.ProfileViewModel

@{

    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>@Resources.Resource.UserName @Model.UserName</h2>

<div>

    <dl class="dl-horizontal">

        @Html.HiddenFor(model => model.Ids)

        @if (Model.IsEditable)
        {
            <dt></dt>
            <dd>@Html.ActionLink(Resources.Resource.ChangePass, "ChangePassword", "Manage")</dd>

            <dt>
                @Html.DisplayNameFor(model => model.FirstName)
            </dt>
            <dd>
                <a href="#" id="FirstName" data-type="text" data-pk=@Model.Id data-url="/Profile/Update" data-title="Enter First Name">@Model.FirstName</a>
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.LastName)
            </dt>

            <dd>
                <a href="#" id="LastName" data-type="text" data-pk=@Model.Id data-url="/Profile/Update" data-title="Enter Last Name">@Model.LastName</a>
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.UserName)
            </dt>

            <dd>
                <a href="#" id="UserName" data-type="text" data-pk=@Model.Id data-url="/Profile/Update" data-title="Enter UserName">@Model.UserName</a>
            </dd>
        }
        else
        {
            <dt>
                @Html.DisplayNameFor(model => model.FirstName)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.FirstName)
            </dd>


            <dt>
                @Html.DisplayNameFor(model => model.LastName)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.LastName)
            </dd>


            <dt>
                @Html.DisplayNameFor(model => model.UserName)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.UserName)
            </dd>
        }

        <dt>
            @Html.DisplayNameFor(model => model.Email)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Email)
        </dd>

    </dl>
</div>
<hr />
<div class="row">
    <div class="col-md-12">

        @if (Model.IsEditable)
        {
            <div>
                @Html.ActionLink(Resources.Resource.AddPost, "Add", "News")
            </div>
        }



        <div class="row">
            <div class="col-md-10">
                <input type="search" class="form-control" placeholder="@Resources.Resource.Filter">
            </div>

        </div>

        <table class="table">
            <thead>
                <tr>
                    <th>@Resources.Resource.Title</th>
                    <th>@Resources.Resource.Description</th>
                    <th data-tsort-type="date">@Resources.Resource.Created</th>
                    <th>@Resources.Resource.Rating</th>

                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model.Posts)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.Title)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Description)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Created)
                        </td>
                        <td>
                            <input class="rating" min=1 max=5 step=1 data-size="xs" readonly="true" value="@item.Rating">
                        </td>

                        <td>
                            @Html.ActionLink(Resources.Resource.Display, "Display", "News", new { id = item.Id }, null) |
                            @if (Model.IsEditable)
                            {
                                @Html.ActionLink(Resources.Resource.Edit, "Edit", "News", new { id = item.Id }, null);
                                <span>|</span>
                                @Html.ActionLink(Resources.Resource.Delete, "Remove", "News", new { id = item.Id }, null);
                            }


                        </td>
                    </tr>
                }
            </tbody>

        </table>
    </div>

</div>
<p>

</p>
@section scripts
    {
    <script src="~/Scripts/tablefilter.js"></script>
    <script>
        $('table').tableFilter();
        $('table').tableFilter({

            // input field to filter table rows
            'input': 'input[type=search]',

            // trigger events and elements
            'trigger': {

                "event": "keyup",
                'element': undefined
            },

            // case sensitive
            'caseSensitive': false,

            // Timeout for keyboard events (keyup, keypress ...)
            'timeout': -1,

            // enable table sort
            'sort': false,

            // not found element
            // e.g. notFoundElement : ".not-found"
            'notFoundElement': null,

            // callback
            'callback': function () { }

        });
    </script>
    <script src="~/Scripts/bootstrap-editable.js"></script>
    <script>
        $.fn.editable.defaults.mode = 'inline';

        $(document).ready(function () {
            $('#FirstName').editable();
        });

        $(document).ready(function () {
            $('#LastName').editable();
        });

        $(document).ready(function () {
            $('#UserName').editable();
        });

    </script>
    <script src="~/Scripts/rating/star-rating.min.js" type="text/javascript"></script>
}
